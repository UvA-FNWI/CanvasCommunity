## Best practices

Here are commonsense best practices. Feel free to improve.

***BP-0:*** LTI shared secrets

LTI shared secrets are very similar in value to API keys and should be treated with the same repsect and equivalent best practices.

***BP-1:*** Do not Share API Keys

Do not share an API Key with more than one developer/user as this is equivalent to giving your account away. Under a shared API Key scenario, the likelihood of the loss or misuse of the key increases. Further, we lose the ability to audit who has done what.

***BP-2:*** Do not send unencrypted keys by email.

Secure your keys during transport via filesender  (Links to an external site.)Links to an external site. @Surf or encrypting yourself via a tool such as 7zip.

***BP-3:*** Data minimization: Do not access more user data than for your intended purpose.

a) When building a script/application when applicable limit the GUI access of the user to the least number of user’s data possible.
b) For integration API Keys when possible limit the number of user accounts that the key can view. This is achieved by limiting the domain/sub domain and courses and roles of the associated account with the key.

***BP-4:*** Data minimization: Do not access more fields of information than necessary

a) When building a script/application when applicable  limit the GUI access of the user to the least number of fields users data possible.
b) Limit the scope (Links to an external site.)Links to an external site. of the API Key to the parts of the Canvas Rest (Links to an external site.)Links to an external site. API

***BP-5:*** Do not Reuse your API key for more than one application

a) Do not recycle keys between applications because this increases the opportunity of disclosure, rate limitation below the rate necessary and makes central monitoring difficult. Further, we cannot fully audit the key usage against the keys purpose.

***BP-6:*** API Key has too many rights

If your key is used for application building then ask for a separate account with a limited set of rights

***BP-7:*** No way to track application

If your key is used to run an application make sure that you use a unique User-Agent so that we can centrally monitor all applications for their Canvas usage.

***BP-8:*** Developing in production

Do not develop in production. You are much more likely to either accidentally provide security weaknesses or call REST services in an incorrect manner causing unexpected results.

***BP-9:*** Admin account on a mobile App

Do not use a Canvas account with admin rights on a mobile app.

***BP-10:*** Clicking on links in emails

If you are an admin and you receive an email requesting a developer key, do not click on any links in the email.

***BP-11:*** Deploying new functionality from Laptop to production

When possible deploy your applications first in a test then acceptance environment. Please do not deploy directly from your developer machine. This practice will help you to catch bugs as configuration changes.

***BP-12:*** Unencrypted storage devices

Do not store keys on unencrypted storage devices such as usb sticks, laptops or desktops. USB sticksand laptops are the most likely devices to be stolen or lost. Pay particular attention.

***BP-13:*** If you lose a USB stick, have a laptop stolen revoke the API key.

If the developer key was generated by an admin, please remember to ask them to revoke the key and generate a new one.

***BP-14:*** Too many API keys

Periodically cleanup your list of API Keys. Please do this at least once a year.

***BP-15:*** API keys given to external developers without an end of life.

As soon as an external developer has no legitimate purpose for the API key revoke.

***BP-16:*** Lack of code review

Any application that uses the REST API from Canvas production should have it’s code reviewed by a trusted party.

***BP-17:*** Lack of automation around continuous delivery.

Any code that is uses the Canvas REST API in production with an API Key that has significant powers should follow coding best practices. E.G., code is in a revision control system, builds automatically, has static code reviews and whose configuration information is stored externally to the code itself.

***BP-18:*** No API Keys in GIT

a) Do not store API key keys in GitHub or other forms of Revision Control systems such as subversion. You can avoid this for example by linking to an external configuration file which is loaded in at runtime.

***BP-19:*** Do not overuse notifications to students

If running batch scripts  review the volume of notifications sent to students.

***BP-20:*** Make sure the administrators know the scope of the Developer API Key that you wish generated.

Before developing an application in broad strokes define the API calls you wish and send the list as part of the request to the administrator who will generate your key.